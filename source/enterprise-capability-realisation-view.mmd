---
config:
  theme: neutral
---
flowchart TB
  subgraph Business_Capabilities["<span style='font-size:16px'><b>Business Architecture</b></span>"]
    direction TB
    A1[Customer & Finance]:::grey
    A2[Shop]:::grey
    A3["Inventory (Data Insight)"]:::primary
  end
  subgraph Application_Services["<span style='font-size:16px'><b>Application Architecture</b></span>"]
    direction TB
    B1[Account Management Service]:::grey
    B2[Booking UI / 
    Mobile + Web Frontend]:::grey
    B3[Pricing Cache]:::primary
    B4[Search Aggregator]:::primary
    B5[Data Normaliser + Deduplicator]:::primary
    B6[Fare Enrichment Service]:::primary
    B7[Variant Management / Segmentation Engine]:::primary
    B8[Observability Platform]:::primary
  end
  subgraph Technology_Enablers["<span style='font-size:16px'><b>Technology Architecture</b></span>"]
    direction TB
    C1[OpenSearch]:::infra
    C2[Kafka]:::infra
    C3[Flink]:::infra
    C4[Redis]:::infra
    C5[App Delivery Platform
    .NET + NodeJS]:::grey
    C6[DynamoDB]:::infra
    C_OBS["Monitored Components
    (Kafka, Flink, Redis, OpenSearch, DynamoDB)"]:::infra
  end
  A1 -.-> B1
  A2 -.-> B2
  A3 --> B3
  A3 --> B4
  A3 --> B5
  A3 --> B6
  A3 --> B7
  A3 --> B8
  B3 --> C4
  B4 --> C2
  B4 --> C1
  B5 --> C2
  B5 --> C3
  B6 --> C3
  B7 --> C6
  B8 --> C_OBS
  B2 -.-> C5
  B1 -.-> C6
  classDef primary fill:#3498db,color:#fff,stroke:#21618c;
  classDef grey fill:#ecf0f1,color:#555;
  classDef infra fill:#27ae60,color:#fff,stroke:#1e8449;
  classDef uncertain stroke:#000000,stroke-dasharray:2 2,fill:#ffffff,color:#000;

class A1 uncertain
class A2 uncertain
class B1 uncertain
class B2 uncertain
class C5 uncertain
